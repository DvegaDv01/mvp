{% schema %}
{
  "name": "Collection Grids",
  "settings": [
    {
      "type": "header",
      "content": "General Settings"
    },
    {
      "type": "range",
      "id": "items_per_page",
      "min": 4,
      "max": 24,
      "step": 4,
      "default": 12,
      "label": "Items per load"
    }
  ],
  "blocks": [
    {
      "type": "grid_section",
      "name": "Grid Section",
      "settings": [
        {
          "type": "select",
          "id": "grid_type",
          "label": "Grid Layout",
          "options": [
            {
              "value": "5x5",
              "label": "5x5 Grid"
            },
            {
              "value": "4x3",
              "label": "4x3 Grid"
            },
            {
              "value": "4x4",
              "label": "4x4 Grid"
            }
          ],
          "default": "5x5"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collection Grids",
      "blocks": [
        {
          "type": "grid_section"
        }
      ]
    }
  ]
}
{% endschema %}

<style>
  .custom-grid-container {
    margin: 40px 0;
  }
  
  .grid-5x5 {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 20px;
    margin-bottom: 40px;
  }
  
  .grid-4x3 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-bottom: 40px;
  }
  
  .grid-4x4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
  
  .collection-item {
    position: relative;
    aspect-ratio: 1;
  }
  
  .collection-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .collection-title {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 10px;
    margin: 0;
    text-align: center;
  }
  
  @media screen and (max-width: 768px) {
    .grid-5x5, .grid-4x3, .grid-4x4 {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>

<div class="custom-grid-container">
  <!-- 5x5 Grid -->
  <div class="grid-5x5">
    {% for collection in collections limit: 25 %}
      <a href="{{ collection.url }}" class="collection-item">
        {% if collection.image %}
          {{ collection.image | image_url: width: 300, height: 300, crop: 'center' | image_tag:
            loading: 'lazy',
            alt: collection.title,
            class: 'collection-image',
            width: 300,
            height: 300
          }}
        {% else %}
          <img 
            src="/api/placeholder/300/300" 
            alt="Placeholder"
            class="collection-image"
            width="300"
            height="300"
            loading="lazy">
        {% endif %}
        <h3 class="collection-title">{{ collection.title }}</h3>
      </a>
    {% endfor %}
  </div>

  <!-- 4x3 Grid -->
  <div class="grid-4x3">
    {% for collection in collections limit: 12 %}
      <a href="{{ collection.url }}" class="collection-item">
        {% if collection.image %}
          {{ collection.image | image_url: width: 300, height: 300, crop: 'center' | image_tag:
            loading: 'lazy',
            alt: collection.title,
            class: 'collection-image',
            width: 300,
            height: 300
          }}
        {% else %}
          <img 
            src="/api/placeholder/300/300" 
            alt="Placeholder"
            class="collection-image"
            width="300"
            height="300"
            loading="lazy">
        {% endif %}
        <h3 class="collection-title">{{ collection.title }}</h3>
      </a>
    {% endfor %}
  </div>

  <!-- 4x4 Grid -->
  <div class="grid-4x4">
    {% for collection in collections limit: 16 %}
      <a href="{{ collection.url }}" class="collection-item">
        {% if collection.image %}
          {{ collection.image | image_url: width: 300, height: 300, crop: 'center' | image_tag:
            loading: 'lazy',
            alt: collection.title,
            class: 'collection-image',
            width: 300,
            height: 300
          }}
        {% else %}
          <img 
            src="/api/placeholder/300/300" 
            alt="Placeholder"
            class="collection-image"
            width="300"
            height="300"
            loading="lazy">
        {% endif %}
        <h3 class="collection-title">{{ collection.title }}</h3>
      </a>
    {% endfor %}
  </div>
</div>